"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(){var e={},t={},n=0,o=0,r={},i=["method"],a={error:"",loading:"data:image/webp;base64,UklGRiQAAABXRUJQVlA4IBgAAAAwAQCdASoBAAEAAwA0JaQAA3AA/vuUAAA="},u={getRandomKey:function(){return"vue-lazy-"+(Math.random()+"").replace(/\D/g,"")}},c={setAttr:function(e,t,n){if("class"===t){var o=e.getAttribute(t);e.setAttribute(t,o+" "+n)}else if("src"===t){var r=new Image;r.onload=function(){e.setAttribute(t,n)},r.src=n,r.onerror=function(){a.error&&e.setAttribute(t,a.error)}}else e.setAttribute(t,n)},setFunc:function(e){e&&e()}};window.Block&&!window.Block.vueLazyProcess&&(r=window.Block.vueLazyProcess={}),t._keepTimer=function(){0===o&&(o=setInterval(function(){n=0;for(var e in r)if(r.hasOwnProperty(e)){var t=r[e],i=t.dom.getBoundingClientRect().top,a=t.dom.getBoundingClientRect().left;i-450<window.innerHeight&&a-450<window.innerWidth?(t.callback(),delete r[e]):n++}0===n&&(clearInterval(o),o=0)},350))},t.set=function(e,n){var o=e["vue-lazy-id"];return!r.hasOwnProperty(o)&&e&&e.nodeType&&"function"==typeof n&&(r[o]={dom:e,callback:n},t._keepTimer()),o},e.install=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a=Object.assign(a,n),e.directive("lazy",{bind:function(e,n){var o=n.arg,r=n.value,f=-1===i.indexOf(o);if(f&&"function"==typeof n.value||!n.arg)return console.error("[Vue warn]: Invalid parameter, Expected String or number.");if(!f&&"function"!=typeof n.value)return console.error("[Vue warn]: Invalid parameter, Expected function.");e.hasOwnProperty("vue-lazy-id")||(e["vue-lazy-id"]=u.getRandomKey()),f&&"src"===o&&"img"===e.tagName.toLowerCase()&&c.setAttr(e,o,a.loading);var d=function(){if(!f)return void c.setFunc(r);c.setAttr(e,o,r)};t.set(e,d)},update:function(e,n){var o=n.arg,a=n.value,u=e["vue-lazy-id"];if(r.hasOwnProperty(u)){var f=function(){if(i.indexOf(o)>-1)return void c.setFunc(a);c.setAttr(e,o,a)};t.set(e,f)}},unbind:function(e){var t=e["vue-lazy-id"];delete r[t]}})},"object"==("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=e:"function"==typeof define&&define.amd?define([],function(){return e}):window.Vue&&(window.vueLazy=e,Vue.use(e))}();