"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(){var e={},t={},n=0,o=0,r={},i=["method"],u={getRandomKey:function(){return"vue-lazy-"+(Math.random()+"").replace(/\D/g,"")}},a={setAttr:function(e,t,n){if("class"===t){var o=e.getAttribute(t);e.setAttribute(t,o+" "+n)}else if("src"===t){var r=new Image;r.onload=function(){e.setAttribute(t,n)},r.src=n}else e.setAttribute(t,n)},setFunc:function(e){e&&e()}};window.Block&&!window.Block.vueLazyProcess&&(r=window.Block.vueLazyProcess={}),t._keepTimer=function(){0===o&&(o=setInterval(function(){n=0;for(var e in r)if(r.hasOwnProperty(e)){var t=r[e],i=t.dom.getBoundingClientRect().top,u=t.dom.getBoundingClientRect().left;i-450<window.innerHeight&&u-450<window.innerWidth?(t.callback(),delete r[e]):n++}0===n&&(clearInterval(o),o=0)},350))},t.set=function(e,n){var o=e["vue-lazy-id"];return!r.hasOwnProperty(o)&&e&&e.nodeType&&"function"==typeof n&&(r[o]={dom:e,callback:n},t._keepTimer()),o},e.install=function(e,n){e.directive("lazy",{bind:function(e,n){var o=n.arg,r=n.value,f=-1===i.indexOf(o);if(f&&"function"==typeof n.value||!n.arg)return console.error("[Vue warn]: Invalid parameter, Expected String or number.");if(!f&&"function"!=typeof n.value)return console.error("[Vue warn]: Invalid parameter, Expected function.");e.hasOwnProperty("vue-lazy-id")||(e["vue-lazy-id"]=u.getRandomKey());var c=function(){if(!f)return void a.setFunc(r);a.setAttr(e,o,r)};t.set(e,c)},update:function(e,n){var o=n.arg,u=n.value,f=e["vue-lazy-id"];if(r.hasOwnProperty(f)){var c=function(){if(i.indexOf(o)>-1)return void a.setFunc(u);a.setAttr(e,o,u)};t.set(e,c)}},unbind:function(e){var t=e["vue-lazy-id"];delete r[t]}})},"object"==("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=e:"function"==typeof define&&define.amd?define([],function(){return e}):window.Vue&&(window.vueLazy=e,Vue.use(e))}();